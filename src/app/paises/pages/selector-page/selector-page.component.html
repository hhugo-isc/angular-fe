<h1 class="mt-5">Selectores anidados</h1>
<hr>

<form
    [formGroup]="miFormulario"
    (ngSubmit)="guardar()"
>
    <div class="row mb-3">
        <div class="col">
            <label for="" class="form-label">Continente:</label>
        </div>
        <select 
            class="form-control"
            formControlName="region"
        >
            <option value="">-- Seleccione un continente --</option>
            <option 
                *ngFor="let region of regiones; let i = index"
                [value]="region | lowercase"
            >
                {{ region }}
            </option>
        </select>
    </div>

    <div
        *ngIf="paises.length !== 0" 
        class="row mb-3">
        <div class="col">
            <label for="" class="form-label">Pa&iacute;s:</label>
        </div>
        <select 
            class="form-control"
            formControlName="pais"
        >
            <option value="">-- Seleccione un Pa&iacute;s --</option>
            <option 
                *ngFor="let pais of paises"
                [value]="pais.alpha3Code"
            >
                {{ pais.name }}
            </option>
        </select>
    </div>

    <div 
        *ngIf="fronteras.length !== 0"
        class="row">
        <div class="col">
            <label for="" class="form-label">Fronteras:</label>
        </div>
        <select 
            class="form-control"
            formControlName="frontera"
        >
            <option value="">-- Seleccione el pais fronterizo --</option>
            <option 
                *ngFor="let frontera of fronteras"
                [value]="frontera.alpha3Code"
            >
                {{ frontera.name }}
            </option>
        </select>
    </div>
    
    <div 
        *ngIf="cargando"
        class="row"
    >
        <div class="col">
            <div class="alert alert-primary">
                Cargando...
            </div>
        </div>
    </div>

    
    <div class="row">
        <div class="col">
            <button
                class="btn btn-primary float-end"
                type="submit"
            >
                Seleccionar
            </button>        
        </div>
    </div>

</form>

<h3>Formulario</h3>
<pre>Valid: {{miFormulario.valid}}</pre>

<pre>{{ miFormulario.value | json }}</pre>